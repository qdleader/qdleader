import{_ as a,c as n,a as e,o as l}from"./app-D8HvJIFE.js";const i={};function p(c,s){return l(),n("div",null,[...s[0]||(s[0]=[e(`<p>在 CentOS 服务器上安装 MySQL 并配置新用户远程访问，可以按照以下步骤操作：</p><h3 id="_1-安装-mysql" tabindex="-1"><a class="header-anchor" href="#_1-安装-mysql"><span>1. 安装 MySQL</span></a></h3><p>首先确保系统已更新，然后安装 MySQL：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 更新系统</span></span>
<span class="line"><span class="token function">sudo</span> yum update <span class="token parameter variable">-y</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 安装 MySQL 服务器</span></span>
<span class="line"><span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token parameter variable">-y</span> mysql-server</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 启动 MySQL 服务并设置开机自启</span></span>
<span class="line"><span class="token function">sudo</span> systemctl start mysqld</span>
<span class="line"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> mysqld</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 查看 MySQL 运行状态</span></span>
<span class="line"><span class="token function">sudo</span> systemctl status mysqld</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-初始化-mysql-安全设置" tabindex="-1"><a class="header-anchor" href="#_2-初始化-mysql-安全设置"><span>2. 初始化 MySQL 安全设置</span></a></h3><p>MySQL 安装后需要进行安全配置（设置 root 密码、删除匿名用户等）：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> mysql_secure_installation</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>按照提示进行操作：</p><ul><li>设置 root 密码（输入 Y 后设置强密码）</li><li>移除匿名用户（输入 Y）</li><li>禁止 root 远程登录（输入 Y，我们之后会创建专门的远程用户）</li><li>删除 test 数据库（输入 Y）</li><li>重新加载权限表（输入 Y）</li></ul><h3 id="_3-创建新用户并配置远程访问" tabindex="-1"><a class="header-anchor" href="#_3-创建新用户并配置远程访问"><span>3. 创建新用户并配置远程访问</span></a></h3><p>登录 MySQL 并执行以下 SQL 命令：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 登录 MySQL（使用刚才设置的 root 密码）</span></span>
<span class="line">mysql <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>在 MySQL 命令行中执行：</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token comment">-- 创建新用户（替换 username 和 password 为你的用户名和密码）</span></span>
<span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">&#39;username&#39;</span><span class="token variable">@&#39;%&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;password&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">-- 授予权限（根据需要调整权限范围，这里授予所有权限）</span></span>
<span class="line"><span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">&#39;username&#39;</span><span class="token variable">@&#39;%&#39;</span> <span class="token keyword">WITH</span> <span class="token keyword">GRANT</span> <span class="token keyword">OPTION</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">-- 刷新权限</span></span>
<span class="line">FLUSH <span class="token keyword">PRIVILEGES</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">-- 退出 MySQL</span></span>
<span class="line"><span class="token keyword">exit</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-配置-mysql-允许远程连接" tabindex="-1"><a class="header-anchor" href="#_4-配置-mysql-允许远程连接"><span>4. 配置 MySQL 允许远程连接</span></a></h3><p>编辑 MySQL 配置文件，允许远程连接：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token function">vi</span> /etc/my.cnf</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>找到 <code>bind-address</code> 配置项，将其注释掉或修改为 <code>0.0.0.0</code>：</p><div class="language-ini line-numbers-mode" data-highlighter="prismjs" data-ext="ini"><pre><code class="language-ini"><span class="line"><span class="token comment"># bind-address = 127.0.0.1  # 注释掉这行</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>保存并退出编辑器，然后重启 MySQL 服务：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> systemctl restart mysqld</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_5-配置防火墙允许-mysql-端口" tabindex="-1"><a class="header-anchor" href="#_5-配置防火墙允许-mysql-端口"><span>5. 配置防火墙允许 MySQL 端口</span></a></h3><p>默认 MySQL 使用 3306 端口，需要在防火墙上开放该端口：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 开放 3306 端口</span></span>
<span class="line"><span class="token function">sudo</span> firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">3306</span>/tcp <span class="token parameter variable">--permanent</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 重新加载防火墙配置</span></span>
<span class="line"><span class="token function">sudo</span> firewall-cmd <span class="token parameter variable">--reload</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-测试远程连接" tabindex="-1"><a class="header-anchor" href="#_6-测试远程连接"><span>6. 测试远程连接</span></a></h3><p>现在可以从远程计算机测试连接：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 在本地计算机执行（替换 username、server_ip 为实际值）</span></span>
<span class="line">mysql <span class="token parameter variable">-u</span> username <span class="token parameter variable">-p</span> <span class="token parameter variable">-h</span> server_ip</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>输入密码后如果能成功登录，说明配置完成。</p><p><strong>注意事项</strong>：</p><ul><li>生产环境中应避免使用 <code>%</code>（允许所有 IP 访问），而是指定具体的 IP 地址</li><li>根据实际需求调整用户权限，不要过度授权</li><li>确保使用强密码提高安全性</li></ul>`,30)])])}const r=a(i,[["render",p]]),d=JSON.parse('{"path":"/%E6%9C%8D%E5%8A%A1%E7%AB%AF/mysql/%E6%96%B0%E7%89%88centos%E5%AE%89%E8%A3%85mysql-2025.html","title":"","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1761877037000,"contributors":[{"name":"qdleader","username":"qdleader","email":"yk4545945@163.com","commits":1,"url":"https://github.com/qdleader"}],"changelog":[{"hash":"bd7640b59685e94edda53b9f6d34fbec27933dd4","time":1761877037000,"email":"yk4545945@163.com","author":"qdleader","message":"docs: 更新仓库链接和添加交流社区信息"}]},"filePathRelative":"服务端/mysql/新版centos安装mysql-2025.md"}');export{r as comp,d as data};
