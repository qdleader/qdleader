import{_ as s,c as n,a as e,o as l}from"./app-D8HvJIFE.js";const p={};function t(i,a){return l(),n("div",null,[...a[0]||(a[0]=[e(`<h1 id="服务端部署-ollama" tabindex="-1"><a class="header-anchor" href="#服务端部署-ollama"><span>服务端部署 ollama</span></a></h1><h2 id="_1-下载-ollama" tabindex="-1"><a class="header-anchor" href="#_1-下载-ollama"><span>1. 下载 ollama</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">curl <span class="token operator">-</span>fsSL https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>ollama<span class="token punctuation">.</span>com<span class="token operator">/</span>install<span class="token punctuation">.</span>sh <span class="token operator">|</span> sh​</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_2-环境配置" tabindex="-1"><a class="header-anchor" href="#_2-环境配置"><span>2. 环境配置</span></a></h2><p>修改 ollama 配置使其可以监听 0.0.0.0 和修改端口，可以实现非本地访问</p><h3 id="_2-1-修改文件" tabindex="-1"><a class="header-anchor" href="#_2-1-修改文件"><span>2.1 修改文件</span></a></h3><p>使用命令：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">sudo vi <span class="token operator">/</span>etc<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span>ollama<span class="token punctuation">.</span>service​</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>添加：Environment=&quot;OLLAMA_HOST=0.0.0.0:11434&quot;​，然后按下 Esc，键入:wq​ 保存更改 即：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token punctuation">[</span>Unit<span class="token punctuation">]</span></span>
<span class="line">Description<span class="token operator">=</span>Ollama Service</span>
<span class="line">After<span class="token operator">=</span>network<span class="token operator">-</span>online<span class="token punctuation">.</span>target</span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span>Service<span class="token punctuation">]</span></span>
<span class="line">Environment<span class="token operator">=</span><span class="token string">&quot;OLLAMA_HOST=0.0.0.0:11434&quot;</span></span>
<span class="line">ExecStart<span class="token operator">=</span><span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>bin<span class="token operator">/</span>ollama serve</span>
<span class="line">User<span class="token operator">=</span>ollama</span>
<span class="line">Group<span class="token operator">=</span>ollama</span>
<span class="line">Restart<span class="token operator">=</span>always</span>
<span class="line">RestartSec<span class="token operator">=</span><span class="token number">3</span></span>
<span class="line">Environment<span class="token operator">=</span><span class="token string">&quot;PATH=/usr/local/php/bin:/usr/local/jdk-17/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span>Install<span class="token punctuation">]</span></span>
<span class="line">WantedBy<span class="token operator">=</span><span class="token keyword">default</span><span class="token punctuation">.</span>target</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>​​</p><h3 id="_2-2-重现加载" tabindex="-1"><a class="header-anchor" href="#_2-2-重现加载"><span>2.2 重现加载</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">sudo systemctl daemon<span class="token operator">-</span>reload</span>
<span class="line"></span>
<span class="line">sudo systemctl restart ollama</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1 3. 测试</p><p>然后打开浏览器测试输入：ip 地址:11434</p><p>出现 ollama is running，表示配置成功</p><p>3.2 模型测试</p>`,17)])])}const o=s(p,[["render",t]]),c=JSON.parse('{"path":"/ai/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%83%A8%E7%BD%B2ollama.html","title":"服务端部署 ollama","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1761877037000,"contributors":[{"name":"qdleader","username":"qdleader","email":"yk4545945@163.com","commits":1,"url":"https://github.com/qdleader"}],"changelog":[{"hash":"bd7640b59685e94edda53b9f6d34fbec27933dd4","time":1761877037000,"email":"yk4545945@163.com","author":"qdleader","message":"docs: 更新仓库链接和添加交流社区信息"}]},"filePathRelative":"ai/服务端部署ollama.md"}');export{o as comp,c as data};
